{"version":3,"sources":["athens/devcards/parser.cljs"],"mappings":"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","names":["js/athens","js/athens.devcards","js/athens.devcards.parser","js/athens.devcards.parser.conn","athens.devcards.parser/conn","datascript.core.create_conn.cljs$core$IFn$_invoke$arity$1","athens.db/schema","posh.reagent/posh!","G__82238","G__82239","posh.reagent/transact!","athens.devcards.parser/strings","devcards.core/register-card","devcards.core/card-base","js/athens.devcards.parser.t_athens$devcards$parser82240","athens.devcards.parser/t_athens$devcards$parser82240","_82242","meta82241","cljs.core/PROTOCOL_SENTINEL","this__64459__auto__","devcard-opts__64460__auto__","cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic","v__64478__auto__","cljs.core/fn?","data-atom__64479__auto__","owner__64480__auto__","reagent.core/as-element","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","devcards.core/assert-options-map","this__4428__auto__","writer__4429__auto__","opt__4430__auto__","cljs.core/-write","athens.devcards.parser/->t_athens$devcards$parser82240","athens.style/base-styles","js/athens.devcards.parser.t_athens$devcards$parser82243","athens.devcards.parser/t_athens$devcards$parser82243","_82245","meta82244","athens.devcards.parser/->t_athens$devcards$parser82243","iter__4582__auto__","s__82247","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4580__auto__","size__4581__auto__","cljs.core/count","b__82249","cljs.core/chunk-buffer","i__82248","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__82246","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","s","athens.devcards.blocks/block-el","cljs.core/chunk-first"],"sourcesContent":["(ns athens.devcards.parser\n  (:require\n    [athens.db :as db]\n    [athens.devcards.blocks :refer [block-el]]\n    #_[athens.parse-renderer :refer [parse-and-render]]\n    #_[athens.parser :refer [parse-to-ast combine-adjacent-strings]]\n    [athens.style :refer [base-styles]]\n    #_[cljs.test :refer [is testing are async]]\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [datascript.core :as d]\n    [devcards.core :refer [#_defcard defcard-rg #_deftest]]\n    [posh.reagent :refer [posh! transact!]]))\n\n\n(defonce conn (d/create-conn db/schema))\n(posh! conn)\n;; TODO: parser transformation requires database to transclude block refs. Currently uses re-frame, not sure how we want to do it with posh.\n(transact! conn [[:db/add 1 :block/uid \"uid1\" :block/string \"block ref\"]])\n\n\n(def strings\n  [\"This is a plain block\"\n   \"This is a [[page link]]\"\n   \"This is a ((uid1))\"                                     ;; TODO\n   \"This is a **very** important block\"\n   \"This is an [external link](https://github.com/athensresearch/athens/)\"\n   \"This is an image: ![alt](https://raw.githubusercontent.com/athensresearch/athens/master/doc/athens-puk-patrick-unsplash.jpg)\"])\n\n\n(defcard-rg Import-Styles\n  [base-styles])\n\n\n(defcard-rg Parse\n  [:div\n   (for [s strings]\n     ^{:key s} [block-el {:block/string s}])])\n\n"]}